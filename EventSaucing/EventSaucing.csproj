<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <Copyright>ï¿½ The Royal Veterinary College. All Rights Reserved 2024</Copyright>
    <AssemblyTitle>Event Saucing</AssemblyTitle>
    <VersionPrefix>1.0.2</VersionPrefix>
    <TargetFramework>netstandard2.0</TargetFramework>
    <AssemblyName>EventSaucing</AssemblyName>
    <PackageId>EventSaucing</PackageId>
    <GenerateAssemblyConfigurationAttribute>false</GenerateAssemblyConfigurationAttribute>
    <GenerateAssemblyCompanyAttribute>false</GenerateAssemblyCompanyAttribute>
    <GenerateAssemblyProductAttribute>false</GenerateAssemblyProductAttribute>
    <GenerateAssemblyCopyrightAttribute>false</GenerateAssemblyCopyrightAttribute>
    <Version>2.0.3</Version>
    <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
    <PackageProjectUrl>https://github.com/RoyalVeterinaryCollege/EventSaucing</PackageProjectUrl>
    <PackageLicenseUrl></PackageLicenseUrl>
    <RepositoryUrl>https://github.com/RoyalVeterinaryCollege/EventSaucing</RepositoryUrl>
    <PackageReleaseNotes>Bug fix release:

if an exception occurred in a SP, it would restart but stop catching up until user activity occurred, but since in re-hydration there is no user activity until rehydration completes, they just sat there.  SP now catch up on re-start after a crash automatically.

fixed bug where SPs were registered with Akka with random numbers instead of their names which made debugging harder

fixed bug where during catch up, SPs would spam themselves with commit messages that they couldnt project because they were too far ahead of their checkpoint which meant pointless CPU activity and memory leak

fixed bug where if lots of SPs caught up at the same time (eg rehydration) it generated so many Akka messages that dependent SPs effectively came under a denial of service attack! (think 100,000s messages per second)

fixed bug where dependent SPs stopped catching up with proceeding SPs until user acitivity occurred

fixed bug where a lot of Akka dead letter messages were produced on app start up </PackageReleaseNotes>
    <AssemblyVersion>2.0.3.0</AssemblyVersion>
    <FileVersion>2.0.3.0</FileVersion>
    <Description>An event source stack based on NEventStore and Akka</Description>
    <PackageLicenseFile>LICENSE.txt</PackageLicenseFile>
    <Title>EventSaucing 2.0</Title>
    <PackageReadmeFile>README.md</PackageReadmeFile>
    <PackageTags>event sourcing;</PackageTags>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <OutputPath>bin\Debug\netstandard2.0\</OutputPath>
    <DocumentationFile>bin\Debug\netstandard2.0\EventSaucing.xml</DocumentationFile>
    <NoWarn>1701;1702;CS1591;CS0618</NoWarn>
    <LangVersion>latest</LangVersion>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|AnyCPU'">
    <LangVersion>latest</LangVersion>
    <NoWarn>1701;1702;CS0618</NoWarn>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="Akka.Cluster.Sharding" Version="1.5.14" />
    <PackageReference Include="Akka.Cluster.Tools" Version="1.5.14" />
    <PackageReference Include="Akka.DependencyInjection" Version="1.5.14" />
    <PackageReference Include="Akka.Persistence" Version="1.5.14" />
    <PackageReference Include="Akka.Persistence.SqlServer" Version="1.5.13" />
    <PackageReference Include="Microsoft.Extensions.Hosting.Abstractions" Version="8.0.0" />
    <PackageReference Include="Microsoft.Extensions.Logging" Version="8.0.0" />
    <PackageReference Include="Dapper" Version="2.1.21" />
    <PackageReference Include="NEventStore.Domain" Version="9.1.1" />
    <PackageReference Include="NEventStore.Persistence.Sql" Version="9.1.2" />
    <PackageReference Include="NEventStore.Serialization.Json" Version="9.1.1" />
    <PackageReference Include="Akka.Logger.Serilog" Version="1.5.12.1" />
    <PackageReference Include="Autofac.Extensions.DependencyInjection" Version="8.0.0" />
    <PackageReference Include="Scalesque" Version="1.0.3" />
  </ItemGroup>
  <ItemGroup Condition=" '$(TargetFramework)' == 'net452' ">
    <Reference Include="System" />
    <Reference Include="Microsoft.CSharp" />
  </ItemGroup>
  <ItemGroup>
    <None Include="..\README.md">
      <Pack>True</Pack>
      <PackagePath>\</PackagePath>
    </None>
    <None Include="LICENSE.txt">
      <Pack>True</Pack>
      <PackagePath></PackagePath>
    </None>
  </ItemGroup>
</Project>